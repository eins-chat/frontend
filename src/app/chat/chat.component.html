<input
  type="text"
  [(ngModel)]="this.searchTerm"
  placeholder="Nutzersuche"
  (input)="searchUser()"
/>
<br /><br />
<div>
  <app-chat-preview
    *ngFor="let user of searchResults"
    [username]="user"
    [userID]="user"
    (newClickEvent)="setSelectedChat($event)"
  ></app-chat-preview>
</div>
<div class="parent">
  <div class="contacts">
    <div style="font-weight: bold">Letzte Kontakte</div>
    <div style="overflow: auto; max-height: 80vh">
      <app-chat-preview
        *ngFor="let user of contacts"
        [username]="user"
        [userID]="user"
        (newClickEvent)="setSelectedChat($event)"
      ></app-chat-preview>
      <br />
      <div style="font-weight: bold">Gruppen</div>
      <button (click)="openDialog()">Gruppe erstellen</button>
      <app-chat-preview
        *ngFor="let group of groups"
        [username]="group.name"
        [userID]="group.id"
        (newClickEvent)="setSelectedChat($event)"
      ></app-chat-preview>
    </div>
  </div>
  <div class="chat">
    <div style="font-weight: bold">Chatverlauf - {{ this.selectedChat }}</div>
    <div
      style="overflow: auto; max-height: 80vh; margin-bottom: 1em"
      class="messageContainer"
    >
      <app-conversation [messages]="selectedMessages"></app-conversation>
    </div>
    <div>
      <input
        type="text"
        [(ngModel)]="this.messageInput"
        placeholder="Nachricht an {{ this.selectedChat }}"
      />
      <button (click)="sendMessage()">Senden</button>
    </div>
  </div>
</div>

<br> <br> <br>

<button (click)="logout()">Abmelden</button>
